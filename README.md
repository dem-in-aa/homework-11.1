# Домашнее задание к занятию 11.1. «Базы данных, их типы»


### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

<ins>Ответ</ins>: Реляционные базы данных, или базы данных SQL, поскольку они соответствуют требованиям
к транзакционным системам (ACID). Соответствие им гарантирует сохранность данных и предсказуемость работы базы данных.
Подойдут Microsoft SQL, PostgreSQL, MySQL.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

<ins>Ответ</ins>: Для небольших и средних проектов можно выбрать MySQL, в последующем при росте нагрузки провести миграцию
на  PostgreSQL.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

<ins>Ответ</ins>: Предположительно, PostgreSQL с хранением данных в более современном и эффективном jsonb, то есть
в разобранном двоичном формате, что несколько замедляет ввод из-за преобразования, но значительно ускоряет обработку,
не требуя многократного разбора текста. Кроме того, jsonb поддерживает индексацию.

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

<ins>Ответ</ins>: Для этих целей подходит документоориентированная MongoDB. Благодаря структуре документов, поддержке
индексации и другим особенностям MongoDB работает быстро, без задержек.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

<ins>Ответ</ins>: Для этих целей предпочтительно использовать графовые СУБД, то есть нереляционный тип баз данных,
основанный на топографической структуре сетей. Моделировать в них сложные связи гораздо проще, поскольку отношениям
между точками данных уделяется такое же внимание, как и самим данным. Примеры СУБД: Neo4j, DGraph, DataStax Enterprise Graph. 

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

<ins>Ответ</ins>:

1) Проверка наличия необходимой суммы на счёте
2) Ввод номера телефона
3) Подтверждение правильности номера телефона
4) Ввод необходимой суммы
5) Подтверждение перевода денежных средств со счета на баланс телефона
6) Проверка баланса телефона 

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

<ins>Ответ</ins>:

1) Проверка наличия необходимой суммы на счёте
2) Перевод банком в назначенную дату определенной суммы на указанный номер по ранее сохраненному шаблону
5) Подтверждение поступления денежных средств на номер телефона

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

<ins>Ответ</ins>:

1) Доступны предопределенная структура и заданные схемы
2) Все данные в наборе строго согласованы
3) Разработка пользовательских панелей мониторинга
4) Возможность операций объединения и сложных запросов
5) Возможность выполнить многорядные транзакции

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

<ins>Ответ</ins>:

Newsql можно определить как класс современных реляционных СУБД, которые стремятся обеспечить такую же масштабируемую производительность NoSQL дляOLTP загружает и одновременно гарантирует соответствие ACID для транзакций, как в СУБД. Другими словами, эти системы хотят достичь масштабируемости NoSQL без необходимости отказа от реляционной модели с SQL и поддержки транзакций устаревшей СУБД.

Преимущества NewSQL:
- Хранение баз данных OLTP в основной памяти позволяет выполнять вычисления баз данных в памяти;
- Масштабирование путем разделения базы данных на непересекающиеся подмножества, называемые разделами или сегментами, что приводит к выполнению запроса на несколько разделов, а затем объединению их в единый результат;
- Его системы сохраняют свойства ACID баз данных;
- Улучшенная система управления параллелизмом превосходит традиционные;
- Наличие вторичного индекса, позволяющего ему поддерживать более быстрое время обработки запросов;
- Высокая доступность и высокая надежность данных возможны только при использовании механизмов репликации;
- Настройте свои системы для обеспечения синхронного обновления данных по глобальной сети;
- Механизм аварийного восстановления обеспечивает отказоустойчивость и минимизирует время простоя.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.
